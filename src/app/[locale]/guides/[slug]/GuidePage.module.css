.page{
  width: 100%;
  padding: var(--pad, 16px);
  padding-bottom: calc(var(--bottom-nav-h, 92px) + var(--pad, 16px));
}

.shell{
  max-width: var(--maxw, 1120px);
  margin: 0 auto;
  display: grid;
  gap: var(--s-5, 24px);
}

/* -------------------------
   TOPBAR (glass)
------------------------- */
.topbar{
  position: sticky;
  top: 10px;
  z-index: 20;

  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--s-3, 14px);

  padding: 10px 12px;
  border-radius: var(--r-xl, 22px);

  background: var(--glassBg);
  border: var(--stroke, 1px) solid var(--glassLine, var(--line));
  box-shadow: var(--shadow-2, var(--shadow-1));
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
}

.topbarLeft, .topbarRight{
  display: flex;
  align-items: center;
  gap: 10px;
}

.back{
  display: inline-flex;
  align-items: center;
  gap: 10px;

  padding: 10px 12px;
  border-radius: 999px;

  background: var(--chipBg);
  border: var(--stroke, 1px) solid var(--chipLine, var(--line));
  color: var(--ink);
  text-decoration: none;
}

.backIcon{ opacity: 0.9; }
.backText{ font-weight: 750; letter-spacing: var(--ls-mid, -0.01em); }

.topLink{
  display: inline-flex;
  align-items: center;
  justify-content: center;

  height: 38px;
  padding: 0 12px;
  border-radius: 999px;

  background: var(--chipBg);
  border: var(--stroke, 1px) solid var(--chipLine, var(--line));
  color: var(--ink);
  text-decoration: none;
  font-size: var(--fs-2, 14px);
}

@media (max-width: 520px){
  .topLink{ padding: 0 10px; }
}

/* -------------------------
   HERO (ambitious but theme-safe)
------------------------- */
.hero{
  position: relative;
  overflow: hidden;

  border-radius: var(--r-xl, 22px);
  border: var(--stroke, 1px) solid var(--line);
  background: var(--panel);
  box-shadow: var(--shadow-2, var(--shadow-1));
}

.heroBg{
  position: absolute;
  inset: -120px;
  pointer-events: none;

  /* Kun vars -> fungerer i dark & light uden hacks */
  background:
    radial-gradient(900px 520px at 18% 0%, color-mix(in srgb, var(--accent) 28%, transparent), transparent 60%),
    radial-gradient(900px 520px at 88% 0%, color-mix(in srgb, var(--ink) 9%, transparent), transparent 62%),
    radial-gradient(700px 520px at 55% 120%, color-mix(in srgb, var(--accent) 12%, transparent), transparent 70%);
  opacity: 0.95;
  filter: saturate(1.05);
}

.heroInner{
  position: relative;
  padding: clamp(16px, 2.2vw, 26px);
}

.heroMetaRow{
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 8px;
  color: var(--muted2, var(--muted));
  font-size: var(--fs-1, 12px);
}

.pillMeta{
  display: inline-flex;
  align-items: center;
  height: 26px;
  padding: 0 10px;
  border-radius: 999px;

  background: color-mix(in srgb, var(--accent) 16%, transparent);
  border: var(--stroke, 1px) solid color-mix(in srgb, var(--accent) 28%, transparent);
  color: var(--ink);
  letter-spacing: 0.14em;
  font-weight: 850;
}

.metaSep{ opacity: 0.55; }
.metaText{ opacity: 0.9; }
.metaSlug{ opacity: 0.75; }

.h1{
  margin: 10px 0 8px 0;
  font-size: var(--fs-7, 36px);
  line-height: var(--lh-tight, 1.12);
  letter-spacing: var(--ls-tight, -0.02em);
  font-weight: 900;
  color: var(--ink);
}

.excerpt{
  margin: 0;
  max-width: 64ch;
  font-size: var(--fs-3, 16px);
  line-height: var(--lh-body, 1.6);
  color: var(--muted);
}

.heroActions{
  margin-top: 14px;
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
}

.primaryCta,
.secondaryCta,
.ghostCta{
  display: inline-flex;
  align-items: center;
  justify-content: center;

  height: 44px;
  padding: 0 14px;
  border-radius: 999px;
  text-decoration: none;
  font-weight: 800;
  letter-spacing: var(--ls-mid, -0.01em);
  font-size: var(--fs-2, 14px);
}

.primaryCta{
  color: var(--bg);
  background: var(--accent);
  border: var(--stroke, 1px) solid color-mix(in srgb, var(--accent) 55%, transparent);
  box-shadow: var(--shadow-1);
}

.secondaryCta{
  color: var(--ink);
  background: var(--panel2);
  border: var(--stroke, 1px) solid var(--line);
}

.ghostCta{
  color: var(--ink);
  background: transparent;
  border: var(--stroke, 1px) solid color-mix(in srgb, var(--ink) 16%, transparent);
}

/* -------------------------
   GRID (aside + article)
------------------------- */
.grid{
  display: grid;
  gap: var(--s-5, 24px);
}

@media (min-width: 980px){
  .grid{
    grid-template-columns: 320px 1fr;
    align-items: start;
  }
}

.aside{
  display: none;
}

@media (min-width: 980px){
  .aside{
    display: block;
    position: sticky;
    top: 92px;
  }
}

.asideCard{
  border-radius: var(--r-xl, 22px);
  border: var(--stroke, 1px) solid var(--line);
  background: var(--panel);
  box-shadow: var(--shadow-1);
  padding: 14px;
}

.asideTitle{
  font-weight: 900;
  letter-spacing: var(--ls-mid, -0.01em);
  color: var(--ink);
  margin-bottom: 10px;
}

.asideMuted{
  color: var(--muted2, var(--muted));
  font-size: var(--fs-2, 14px);
  line-height: 1.55;
}

.asideMuted code{
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: 0.92em;
  padding: 2px 6px;
  border-radius: 10px;
  background: var(--chipBg);
  border: var(--stroke, 1px) solid var(--chipLine, var(--line));
}

.toc{
  display: grid;
  gap: 8px;
  margin: 0;
}

.tocItem,
.tocItemSub{
  text-decoration: none;
  color: var(--muted);
  font-size: var(--fs-2, 14px);
  line-height: 1.25;

  padding: 8px 10px;
  border-radius: var(--r-md, 14px);
  border: var(--stroke, 1px) solid transparent;
  background: transparent;
}

.tocItemSub{
  padding-left: 16px;
  font-size: 13px;
  color: var(--muted2, var(--muted));
}

.tocItem:hover,
.tocItemSub:hover{
  color: var(--ink);
  border-color: color-mix(in srgb, var(--ink) 14%, transparent);
  background: color-mix(in srgb, var(--ink) 6%, transparent);
}

.asideDivider{
  height: 1px;
  margin: 12px 0;
  background: color-mix(in srgb, var(--ink) 14%, transparent);
}

.quickLinks{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}

.quickLink{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 42px;

  border-radius: 999px;
  background: var(--panel2);
  border: var(--stroke, 1px) solid var(--line);
  color: var(--ink);
  text-decoration: none;
  font-weight: 800;
  font-size: var(--fs-2, 14px);
}

/* -------------------------
   ARTICLE
------------------------- */
.article{
  min-width: 0;
}

.mobileToc{
  border-radius: var(--r-xl, 22px);
  border: var(--stroke, 1px) solid var(--line);
  background: var(--panel);
  box-shadow: var(--shadow-1);
  overflow: hidden;
}

@media (min-width: 980px){
  .mobileToc{ display: none; }
}

.mobileTocSummary{
  list-style: none;
  cursor: pointer;

  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;

  padding: 14px 14px;
  color: var(--ink);
  font-weight: 900;
  letter-spacing: var(--ls-mid, -0.01em);
}

.mobileTocSummary::-webkit-details-marker{ display:none; }

.mobileTocHint{
  color: var(--muted2, var(--muted));
  font-weight: 800;
  font-size: var(--fs-2, 14px);
}

.mobileTocList{
  padding: 0 14px 14px 14px;
  display: grid;
  gap: 8px;
}

.mobileTocItem,
.mobileTocItemSub{
  text-decoration: none;
  color: var(--muted);
  font-size: var(--fs-2, 14px);
  line-height: 1.25;

  padding: 10px 12px;
  border-radius: var(--r-md, 14px);
  border: var(--stroke, 1px) solid color-mix(in srgb, var(--ink) 12%, transparent);
  background: color-mix(in srgb, var(--ink) 4%, transparent);
}

.mobileTocItemSub{
  padding-left: 18px;
  color: var(--muted2, var(--muted));
  font-size: 13px;
}

.contentCard{
  margin-top: var(--s-4, 18px);
  border-radius: var(--r-xl, 22px);
  border: var(--stroke, 1px) solid var(--line);
  background: var(--panel);
  box-shadow: var(--shadow-2, var(--shadow-1));
  padding: clamp(16px, 2.2vw, 22px);
}

/* Typography */
.h2{
  margin: 22px 0 10px 0;
  font-size: var(--fs-6, 28px);
  line-height: 1.16;
  letter-spacing: var(--ls-tight, -0.02em);
  font-weight: 900;
  color: var(--ink);
}

.h3{
  margin: 14px 0 8px 0;
  font-size: var(--fs-5, 22px);
  line-height: 1.22;
  letter-spacing: var(--ls-mid, -0.01em);
  font-weight: 850;
  color: var(--ink);
}

.p{
  margin: 10px 0;
  font-size: var(--fs-2, 14px);
  line-height: var(--lh-body, 1.6);
  color: var(--muted);
}

.strong{
  color: var(--ink);
  font-weight: 900;
}

.a{
  color: var(--ink);
  text-decoration: underline;
  text-decoration-color: color-mix(in srgb, var(--ink) 22%, transparent);
  text-underline-offset: 3px;
}

.rule{
  height: 1px;
  margin: 18px 0;
  background: linear-gradient(
    90deg,
    transparent,
    color-mix(in srgb, var(--ink) 16%, transparent),
    transparent
  );
}

/* Lists */
.ul, .ol{
  margin: 10px 0 10px 18px;
  padding: 0;
  color: var(--muted);
  line-height: 1.65;
}

.li{ margin: 6px 0; }

/* Quote */
.quote{
  margin: 14px 0;
  padding: 12px 14px;
  border-radius: var(--r-lg, 18px);

  background: var(--panel2);
  border: var(--stroke, 1px) solid var(--line);
  color: var(--muted);
}

/* Code */
.codeInline{
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: 0.92em;

  padding: 2px 7px;
  border-radius: 10px;

  background: var(--chipBg);
  border: var(--stroke, 1px) solid var(--chipLine, var(--line));
  color: var(--ink);
}

.pre{
  margin: 12px 0;
  padding: 14px;
  border-radius: var(--r-lg, 18px);
  overflow: auto;

  background: color-mix(in srgb, var(--bg) 85%, transparent);
  border: var(--stroke, 1px) solid var(--line);
  box-shadow: var(--shadow-1);
}

.codeBlock{
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: 13px;
  color: var(--ink);
}

/* Tables */
.tableWrap{
  width: 100%;
  overflow: auto;
  margin: 14px 0;
  border-radius: var(--r-lg, 18px);
  border: var(--stroke, 1px) solid var(--line);
  background: var(--panel2);
}

.table{
  width: 100%;
  border-collapse: collapse;
  min-width: 560px;
}

.th, .td{
  padding: 10px 12px;
  text-align: left;
  border-bottom: var(--stroke, 1px) solid var(--line);
  color: var(--muted);
  font-size: 14px;
}

.th{
  color: var(--ink);
  font-weight: 900;
  background: color-mix(in srgb, var(--ink) 4%, transparent);
}

.muted{
  margin: 0;
  color: var(--muted2, var(--muted));
  line-height: 1.6;
}

/* Footer CTAs */
.footerCtas{
  margin-top: var(--s-4, 18px);
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}

.footerPrimary,
.footerGhost{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 48px;
  border-radius: 999px;
  text-decoration: none;
  font-weight: 900;
  font-size: var(--fs-2, 14px);
  border: var(--stroke, 1px) solid var(--line);
}

.footerPrimary{
  background: var(--accent);
  color: var(--bg);
  box-shadow: var(--shadow-1);
  border-color: color-mix(in srgb, var(--accent) 55%, transparent);
}

.footerGhost{
  background: transparent;
  color: var(--ink);
  border-color: color-mix(in srgb, var(--ink) 16%, transparent);
}

@media (min-width: 980px){
  .footerCtas{
    grid-template-columns: 220px 220px;
    justify-content: start;
  }
}