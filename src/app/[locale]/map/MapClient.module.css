.page{
  height: 100svh;
  overflow: hidden;
  background: var(--bg);
  color: var(--ink);
}

/* Hele oplevelsen er et “scene” lag */
.mapShell{
  position: relative;
  height: 100%;
  width: 100%;

  /* bund-nav + safe-area + lidt luft */
  --safeBottom: calc(var(--bottom-nav-h, 92px) + 12px + env(safe-area-inset-bottom));
}

/* HUD ligger ovenpå kortet */
.hud{
  position: absolute;
  top: calc(10px + env(safe-area-inset-top));
  left: 12px;
  right: 12px;
  z-index: 60;

  pointer-events: none;
}

.hud > *{
  pointer-events: auto;
}

/* Giv insights lidt separation fra topbar */
.insights{
  margin-top: 10px;
}

/* Peek card skal ALTID ligge over bund-sheet + over bund-nav */
.peekWrap{
  position: absolute;
  left: 12px;
  right: 12px;
  bottom: calc(var(--safeBottom) + 86px); /* ca over sheet header */
  z-index: 70;
  pointer-events: none;
}

.peekWrap > *{
  pointer-events: auto;
}

/* Bottom sheet ligger over bund-nav – aldrig bagved */
.sheetWrap{
  position: absolute;
  left: 12px;
  right: 12px;
  bottom: var(--safeBottom);
  z-index: 65;

  pointer-events: none;
}

.sheetWrap > *{
  pointer-events: auto;
}

/* (Hvis Leaflet/MapContainer nogle gange får klik issues) */
.mapShell :global(.leaflet-container){
  height: 100%;
  width: 100%;
}